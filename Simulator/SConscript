Import("libsimulator")
Import("outerEnv")

env = outerEnv.Clone()
env.AppendUnique(FRAMEWORKS = ["OpenCL"])

simulator = env.Program("simulator", Glob("*.c"),
                        LIBS = ["simulator"], LIBPATH = "libsimulator")
Depends(simulator, libsimulator)

Return("simulator")